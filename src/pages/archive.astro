---
import { getCollection } from "astro:content";
import Header from "../components/Header.astro";
import MarkdownPostShort from "../components/MarkdownPostShort.astro";
import PostTitle from "../components/MarkdownPostTitle.astro";
import BaseLayout from "../layouts/BaseLayout.astro";

const allPosts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<BaseLayout pageTitle="Katherine's Blog - Archive">
  <Header />
  <PostTitle title="Archive" />
  <ul>
    {allPosts.map((post: any) => <li><MarkdownPostShort url=`/blog/${post.id}` title={post.data.title} pubDate={post.data.pubDate} tags={post.data.tags}/></li>)}
  </ul>
</BaseLayout>
